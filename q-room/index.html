<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Q-Room | „Ç™„É≥„É©„Ç§„É≥„ÇØ„Ç§„Ç∫„É´„Éº„É†</title>
<meta name="description" content="Q-Room„ÅØ„ÄÅ„É™„Ç¢„É´„Çø„Ç§„É†„ÅßÈÄ≤Ë°å„Åô„ÇãÂ§öÊ©üËÉΩ„Å™„Ç™„É≥„É©„Ç§„É≥„ÇØ„Ç§„Ç∫„Ç∑„Çπ„ÉÜ„É†„Åß„Åô„ÄÇËá™Ë∫´„ÅßÈÉ®Â±ã„Çí‰ΩúÊàê„Åó„ÄÅNewYork„ÇÑ„Ç¢„ÉÉ„Éó„ÉÄ„Ç¶„É≥„Å™„Å©Êßò„ÄÖ„Å™„É´„Éº„É´„Çí„Ç™„É≥„É©„Ç§„É≥„Åß„Åø„Çì„Å™„Å®„ÇØ„Ç§„Ç∫ÂØæÊà¶„ÇíÊ•Ω„Åó„ÇÅ„Åæ„Åô„ÄÇ">
<link rel="canonical" href="https://astro-root.com/q-room/">
<meta property="og:title" content="Q-Room | Online Quiz Room">
<meta property="og:description" content="„É™„Ç¢„É´„Çø„Ç§„É†„ÅßÈÄ≤Ë°å„Åô„ÇãÂ§öÊ©üËÉΩ„Å™„Ç™„É≥„É©„Ç§„É≥„ÇØ„Ç§„Ç∫„Ç∑„Çπ„ÉÜ„É†„ÄÇÊßò„ÄÖ„Å™„É´„Éº„É´„ÅÆ„ÇØ„Ç§„Ç∫ÈÉ®Â±ã„Çí‰ΩúÊàê„ÉªÂèÇÂä†„Åß„Åç„Åæ„Åô„ÄÇ">
<meta property="og:url" content="https://astro-root.com/q-room/">
<meta property="og:type" content="website">
<meta property="og:site_name" content="Q-Room">
<meta name="twitter:card" content="summary">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Noto+Sans+JP:wght@400;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/q-room.css">
</head>
<body>

<button class="theme-toggle-btn" id="theme-toggle-btn" onclick="toggleTheme()" title="„ÉÄ„Éº„ÇØ/„É©„Ç§„Éà„É¢„Éº„ÉâÂàáÊõø">
  <span id="theme-icon">‚òÄÔ∏è</span>
</button>

<!-- TOP SCREEN -->
<div id="screen-top" class="screen active">
  <div class="hero">
    <div class="logo">Q-Room</div>
    <div class="logo-sub">Online QUIZ Room</div>
  </div>
  <div class="form-wrap">
    <div class="field">
      <label>PLAYER NAME</label>
      <input type="text" id="in-name" placeholder="Enter your name" maxlength="20" autocomplete="off">
    </div>
    <div class="field">
      <label>ROOM ID</label>
      <div class="row">
        <input type="text" id="in-room" placeholder="5 numbers" maxlength="5" pattern="[0-9]*" inputmode="numeric">
        <button class="btn-gen" onclick="document.getElementById('in-room').value = String(Math.floor(10000+Math.random()*90000))">üé≤</button>
      </div>
    </div>
    <div id="top-err" class="err"></div>
    <button class="btn btn-pri" onclick="handleCreate()" style="margin-bottom:20px;">CREATE ROOM</button>
    <button class="btn btn-sec" onclick="handleJoin()">JOIN ROOM</button>
    <div style="display:flex; justify-content:center; align-items:center; gap:8px; margin-top:28px; padding-bottom:8px; flex-wrap:wrap;">
      <button onclick="openFeedback()" style="background:none; border:none; cursor:pointer; display:flex; flex-direction:column; align-items:center; gap:8px; color:var(--text-muted); transition:0.3s; padding:8px 16px; border-radius:12px;" onmouseover="this.style.color='var(--cyan)'" onmouseout="this.style.color='var(--text-muted)'">
        <svg viewBox="0 0 24 24" style="width:22px;height:22px;stroke:currentColor;fill:none;stroke-width:1.8;stroke-linecap:round;stroke-linejoin:round;"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
        <span style="font-family:var(--font-en);font-size:0.75rem;letter-spacing:0.12em;font-weight:700;">FEEDBACK</span>
      </button>
      <a href="https://twitter.com/astro_root" target="_blank" rel="noopener" style="display:flex; flex-direction:column; align-items:center; gap:8px; color:var(--text-muted); text-decoration:none; transition:0.3s; padding:8px 16px; border-radius:12px;" onmouseover="this.style.color='#1d9bf0'" onmouseout="this.style.color='var(--text-muted)'">
        <svg viewBox="0 0 24 24" style="width:22px;height:22px;fill:currentColor;"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.744l7.73-8.835L1.254 2.25H8.08l4.253 5.622zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
        <span style="font-family:var(--font-en);font-size:0.75rem;letter-spacing:0.12em;font-weight:700;">TWITTER</span>
      </a>
      <a href="https://astro-root.com/" target="_blank" rel="noopener" style="display:flex; flex-direction:column; align-items:center; gap:8px; color:var(--text-muted); text-decoration:none; transition:0.3s; padding:8px 16px; border-radius:12px;" onmouseover="this.style.color='var(--cyan)'" onmouseout="this.style.color='var(--text-muted)'">
        <svg viewBox="0 0 24 24" style="width:22px;height:22px;stroke:currentColor;fill:none;stroke-width:1.8;stroke-linecap:round;stroke-linejoin:round;"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
        <span style="font-family:var(--font-en);font-size:0.75rem;letter-spacing:0.12em;font-weight:700;">WEBSITE</span>
      </a>
      <a href="https://astro-root.com/q-room/manual.html" target="_blank" rel="noopener" style="display:flex; flex-direction:column; align-items:center; gap:8px; color:var(--text-muted); text-decoration:none; transition:0.3s; padding:8px 16px; border-radius:12px;" onmouseover="this.style.color='var(--cyan)'" onmouseout="this.style.color='var(--text-muted)'">
        <svg viewBox="0 0 24 24" style="width:22px;height:22px;stroke:currentColor;fill:none;stroke-width:1.8;stroke-linecap:round;stroke-linejoin:round;"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
        <span style="font-family:var(--font-en);font-size:0.75rem;letter-spacing:0.12em;font-weight:700;">MANUAL</span>
      </a>
      <a href="https://astro-root.com/q-room/monitor" target="_blank" rel="noopener" style="display:flex; flex-direction:column; align-items:center; gap:8px; color:var(--text-muted); text-decoration:none; transition:0.3s; padding:8px 16px; border-radius:12px;" onmouseover="this.style.color='var(--cyan)'" onmouseout="this.style.color='var(--text-muted)'">
        <svg viewBox="0 0 24 24" style="width:22px;height:22px;stroke:currentColor;fill:none;stroke-width:1.8;stroke-linecap:round;stroke-linejoin:round;"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg>
        <span style="font-family:var(--font-en);font-size:0.75rem;letter-spacing:0.12em;font-weight:700;">MONITOR</span>
      </a>
      <button onclick="tweetApp()" style="background:none; border:none; cursor:pointer; display:flex; flex-direction:column; align-items:center; gap:8px; color:var(--text-muted); transition:0.3s; padding:8px 16px; border-radius:12px;" onmouseover="this.style.color='#1d9bf0'" onmouseout="this.style.color='var(--text-muted)'">
        <svg viewBox="0 0 24 24" style="width:22px;height:22px;fill:currentColor;"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.744l7.73-8.835L1.254 2.25H8.08l4.253 5.622zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
        <span style="font-family:var(--font-en);font-size:0.75rem;letter-spacing:0.12em;font-weight:700;">TWEET</span>
      </button>
    </div>
  </div>
</div>

<!-- ROOM SCREEN -->
<div id="screen-room" class="screen">
  <div class="header">
    <div class="room-info">ROOM<span id="game-rid">‚Äî</span></div>
    <div class="rule-badge" id="game-rule">‚Äî</div>
    <div style="display:flex; gap:10px; flex-shrink:0;">
      <button class="h-btn-icon" onclick="toggleTheme()" title="„ÉÄ„Éº„ÇØ/„É©„Ç§„Éà„É¢„Éº„ÉâÂàáÊõø" id="theme-toggle-btn-room">
        <span id="theme-icon-room">‚òÄÔ∏è</span>
      </button>
      <button class="h-btn-icon" onclick="tweetInvite()" title="ÊãõÂæÖ„ÉÑ„Ç§„Éº„Éà">
        <svg viewBox="0 0 24 24" style="width:18px;height:18px;fill:currentColor;"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.744l7.73-8.835L1.254 2.25H8.08l4.253 5.622zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
      </button>
      <button class="h-btn-icon chat-btn" onclick="toggleChat()" title="Chat" id="chat-header-btn">
        <svg viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
        <span class="chat-badge" id="chat-badge"></span>
      </button>
      <button class="h-btn-icon" onclick="openFeedback()" title="Feedback">
        <svg viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
      </button>
      <button class="h-btn-icon" onclick="openModal()" title="Settings">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
      </button>
    </div>
  </div>
  <div class="timer-panel" id="timer-panel">
    <div class="timer-display" id="timer-display">05:00</div>
    <div class="timer-controls">
      <button class="timer-btn timer-btn-start" id="timer-btn-start" onclick="timerAction('start')">‚ñ∂ START</button>
      <button class="timer-btn timer-btn-stop" id="timer-btn-stop" onclick="timerAction('stop')" disabled>‚è∏ STOP</button>
      <button class="timer-btn timer-btn-reset" onclick="timerAction('reset')">‚Ü∫ RESET</button>
    </div>
  </div>
  <div class="scroll-area"><div id="plist" class="plist"></div></div>
  <div class="action-panel" id="mypanel">
    <div class="ox-grid" id="ox-grid">
      <button class="ox-btn btn-o" onclick="sendAction('correct')">‚óØ</button>
      <button class="ox-btn btn-x" onclick="sendAction('wrong')">‚úï</button>
    </div>
    <div class="sub-actions">
      <button class="sub-btn" id="btn-undo" onclick="reqUndo()" disabled>‚Ü© UNDO</button>
      <button class="sub-btn" onclick="toggleRole()" id="btn-role">üëÄ WATCH</button>
      <button class="sub-btn" id="btn-board-host" onclick="boardSetHost()" style="display:none;">üéô HOST</button>
      <button class="sub-btn" onclick="leaveRoom()">üö™ LEAVE</button>
    </div>
  </div>
</div>

<!-- RESULT SCREEN -->
<div id="screen-result" class="screen">
  <div class="r-header">
    <div class="r-title">RESULT</div>
    <div style="display:flex; gap:12px; max-width:240px; margin:0 auto;">
      <button class="sub-btn" onclick="backToRoom()" style="flex:1;">Back to ROOM</button>
      <button class="sub-btn" onclick="tweetResult()" style="flex:0 0 auto; padding:12px 16px; color:#1d9bf0; border-color:rgba(29,155,240,0.4);" title="ÁµêÊûú„Çí„ÉÑ„Ç§„Éº„Éà">
        <svg viewBox="0 0 24 24" style="width:16px;height:16px;fill:currentColor;display:block;"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.744l7.73-8.835L1.254 2.25H8.08l4.253 5.622zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
      </button>
    </div>
  </div>
  <div class="scroll-area"><div id="rlist" class="plist"></div></div>
</div>

<!-- SETTINGS MODAL -->
<div id="modal" class="modal" onclick="if(event.target===this)closeModal()">
  <div class="m-content">
    <button class="m-close" onclick="closeModal()">‚úï</button>
    <div class="m-title">ROOM SETTINGS</div>

    <div id="admin-gate"></div>

    <div id="admin-section">
      <div class="field">
        <label>RULE</label>
        <select id="sel-rule" onchange="changeRuleUI()">
          <option value="survival">m‚óØn√ó</option>
          <option value="free">Free</option>
          <option value="newyork">NewYork</option>
          <option value="rentou">ÈÄ£Á≠î‰ªò„Åç</option>
          <option value="updown">up-down</option>
          <option value="by">by</option>
          <option value="freeze">Freeze</option>
          <option value="m_n_rest">m‚óØn‰ºë</option>
          <option value="swedish">Swedish</option>
          <option value="ren_wrong">ÈÄ£Ë™§Á≠î‰ªò„Åç</option>
          <option value="divide">divide</option>
          <option value="combo">m hits Combo</option>
          <option value="attack_surv">„Ç¢„Çø„ÉÉ„ÇØÈ¢®„Çµ„Éê„Ç§„Éê„É´</option>
          <option value="lucky">LuckyShot</option>
          <option value="spiral">Ëû∫ÊóãÈöéÊÆµ</option>
          <option value="time_race">Time Race</option>
          <option value="board_quiz">Board Quiz</option>
        </select>
      </div>
      <div id="config-area"></div>
    </div>

    <hr>
    <div class="s-grid">
      <button class="sub-btn" onclick="copyUrl()">üîó Copy URL</button>
      <button class="sub-btn" onclick="copyId()">üìã Copy ID</button>
    </div>
    <div id="admin-section-btns">
      <button class="btn btn-sec" onclick="resetPoints()" style="margin-bottom:16px;">üîÑ RESET SCORES</button>
      <button class="btn btn-warn" onclick="endGame()">üèÅ FINISH GAME</button>
    </div>
  </div>
</div>

<!-- ROOM INFO MODAL -->
<div id="modal-room-info" class="modal room-share-modal" onclick="if(event.target===this)closeRoomInfo()">
  <div class="m-content">
    <button class="m-close" onclick="closeRoomInfo()">‚úï</button>
    <div class="m-title" id="room-info-title">ROOM CREATED</div>

    <div class="share-row">
      <span class="share-label">ID</span>
      <span class="share-val" id="share-room-id">‚Äî</span>
      <button class="share-copy-btn" id="btn-copy-id" onclick="copyShareId()">COPY</button>
    </div>
    <div class="share-row">
      <span class="share-label">URL</span>
      <span class="share-val" id="share-room-url">‚Äî</span>
      <button class="share-copy-btn" id="btn-copy-url" onclick="copyShareUrl()">COPY</button>
    </div>

    <button class="share-native-btn" id="btn-native-share" onclick="nativeShare()">
      <svg viewBox="0 0 24 24"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>
      INVITE FRIENDS
    </button>
    <button class="room-info-dismiss" onclick="closeRoomInfo()">START PLAYING ‚Üí</button>
  </div>
</div>

<!-- FEEDBACK MODAL -->
<div id="modal-feedback" class="modal" onclick="if(event.target===this)closeFeedback()">
  <div class="m-content">
    <button class="m-close" onclick="closeFeedback()">‚úï</button>
    <div class="m-title">FEEDBACK</div>
    <div style="display:flex; flex-direction:column; gap:12px; margin-bottom:28px;">
      <a href="https://twitter.com/astro_root" target="_blank" rel="noopener" style="display:flex; align-items:center; gap:14px; padding:14px 18px; background:rgba(255,255,255,0.04); border:1px solid var(--border-color); border-radius:14px; color:var(--text-main); text-decoration:none; transition:0.3s; font-family:var(--font-en); font-size:0.9rem; font-weight:700;" onmouseover="this.style.borderColor='#1d9bf0';this.style.background='rgba(29,155,240,0.08)'" onmouseout="this.style.borderColor='var(--border-color)';this.style.background='rgba(255,255,255,0.04)'">
        <svg viewBox="0 0 24 24" style="width:20px;height:20px;fill:#1d9bf0;flex-shrink:0;"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.744l7.73-8.835L1.254 2.25H8.08l4.253 5.622zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
        <div>
          <div style="color:var(--text-muted);font-size:0.7rem;letter-spacing:0.12em;margin-bottom:2px;">TWITTER</div>
          @astro_root
        </div>
      </a>
      <a href="https://astro-root.com/" target="_blank" rel="noopener" style="display:flex; align-items:center; gap:14px; padding:14px 18px; background:rgba(255,255,255,0.04); border:1px solid var(--border-color); border-radius:14px; color:var(--text-main); text-decoration:none; transition:0.3s; font-family:var(--font-en); font-size:0.9rem; font-weight:700;" onmouseover="this.style.borderColor='var(--cyan)';this.style.background='rgba(6,182,212,0.08)'" onmouseout="this.style.borderColor='var(--border-color)';this.style.background='rgba(255,255,255,0.04)'">
        <svg viewBox="0 0 24 24" style="width:20px;height:20px;stroke:var(--cyan);fill:none;stroke-width:1.8;stroke-linecap:round;stroke-linejoin:round;flex-shrink:0;"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
        <div>
          <div style="color:var(--text-muted);font-size:0.7rem;letter-spacing:0.12em;margin-bottom:2px;">WEBSITE</div>
          astro-root.com
        </div>
      </a>
    </div>
    <hr>
    <form action="https://public.herotofu.com/v1/73ca08d0-1004-11f1-9506-dbd2adae6f0e" method="post" target="_blank" onsubmit="setTimeout(closeFeedback, 500)" style="margin-top:28px;">
      <div class="field">
        <label>NAME</label>
        <input type="text" name="name" placeholder="Your Name" required>
      </div>
      <div class="field">
        <label>MESSAGE</label>
        <textarea name="message" placeholder="Your Message" required></textarea>
      </div>
      <button type="submit" class="btn btn-pri">SEND FEEDBACK</button>
    </form>
  </div>
</div>

<!-- CHAT -->
<div class="chat-overlay" id="chat-overlay" onclick="toggleChat()"></div>
<div class="chat-drawer" id="chat-drawer">
  <div class="chat-handle"></div>
  <div class="chat-header">
    <span class="chat-title">CHAT</span>
    <button class="chat-close" onclick="toggleChat()">‚úï</button>
  </div>
  <div class="chat-messages" id="chat-messages"></div>
  <div class="chat-stamps" id="chat-stamps"></div>
  <div class="chat-input-row">
    <input class="chat-input" id="chat-input" type="text" placeholder="„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂÖ•Âäõ‚Ä¶" maxlength="200" autocomplete="off" onkeydown="if(event.key==='Enter')sendChatMsg()">
    <button class="chat-send" onclick="sendChatMsg()">
      <svg viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
    </button>
  </div>
</div>

<!-- COUNTDOWN -->
<div class="countdown-overlay" id="countdown-overlay">
  <div class="countdown-num" id="countdown-num">5</div>
  <div class="countdown-label">GET READY</div>
</div>

<div id="toast" class="toast"></div>

<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database-compat.js"></script>
<script src="js/q-room.js"></script>
</body>
</html>
